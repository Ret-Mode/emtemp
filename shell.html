<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <title>Template</title>
    <style>
      body {
        margin:0;
        border:0;
        padding:0;
        width:100svw;
        height:100svh;
      }
      
      .emscripten {
          /*width: 100svw;
          height: 100svh;*/
      }
      #output {
        width:100svw;
        height:10svh;
      }
      #canvas {
          border: 0px none;
          background-color: black;
          width:100svw;
          height:90svh;
      }
    </style>
</head>

<body>
    <div class="emscripten">
        <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
    </div>
    <textarea id="output" rows="8"></textarea>
    <script type='text/javascript'>
        var Module = {
            preRun: [],
            postRun: [],
            print: function(text) {
              const outputElement = document.getElementById('output');
              outputElement.value = text + "\n" + outputElement.value;
            },
            printErr: function(text) { 
              const outputElement = document.getElementById('output');
              outputElement.value = text + "\n" + outputElement.value;
            },
              
            /*print: function(text) { alert('stdout: ' + text) },
            printErr: function(text) { alert('stderr: ' + text) },*/
            canvas: (() => {
                const canvas = document.getElementById('canvas');

                canvas.addEventListener("webglcontextlost", (e) => {
                    alert('WebGL context lost. You will need to reload the page.');
                    e.preventDefault();
                }, false);

                return canvas;
            })()
        };

        window.onerror = (event) => {
            console.error(event);
        };
    </script>
    {{{ SCRIPT }}}
</body>

</html>